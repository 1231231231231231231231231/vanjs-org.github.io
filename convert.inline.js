var F$=Object.create;var{defineProperty:B0,getPrototypeOf:z$,getOwnPropertyNames:M$}=Object;var B$=Object.prototype.hasOwnProperty;var A0=($,Q,J)=>{J=$!=null?F$(z$($)):{};const Z=Q||!$||!$.__esModule?B0(J,"default",{value:$,enumerable:!0}):J;for(let q of M$($))if(!B$.call(Z,q))B0(Z,q,{get:()=>$[q],enumerable:!0});return Z};var u=($,Q)=>()=>(Q||$((Q={exports:{}}).exports,Q),Q.exports);var D0=u((V1,L0)=>{var w$=function($){var Q,J=$.match(A$);if(J&&J[1])Q=J[1].toLowerCase();var Z,q,Y;switch(Q){case w0:if(Z=$0($),!H0.test($)){if(q=Z.querySelector(j0),q)q.parentNode.removeChild(q)}if(!P0.test($)){if(q=Z.querySelector(d),q)q.parentNode.removeChild(q)}return Z.querySelectorAll(w0);case j0:case d:if(Z=i($),Y=Z.querySelectorAll(Q),P0.test($)&&H0.test($))return Y[0].parentNode.childNodes;return Y;default:if(Q0)return Q0($);return q=i($,d).querySelector(d),q.childNodes}},w0="html",j0="head",d="body",A$=/<([a-zA-Z]+[0-9]?)/,H0=/<head[^]*>/i,P0=/<body[^]*>/i,i=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},$0=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},R0=typeof window==="object"&&window.DOMParser;if(typeof R0==="function")I0=new R0,S0="text/html",$0=function($,Q){if(Q)$="<"+Q+">"+$+"</"+Q+">";return I0.parseFromString($,S0)},i=$0;var I0,S0;if(typeof document==="object"&&document.implementation)_=document.implementation.createHTMLDocument(),i=function($,Q){if(Q){var J=_.documentElement.querySelector(Q);return J.innerHTML=$,_}return _.documentElement.innerHTML=$,_};var _,e=typeof document==="object"?document.createElement("template"):{},Q0;if(e.content)Q0=function($){return e.innerHTML=$,e.content.childNodes};L0.exports=w$});var J0=u((C0)=>{var j$=function($){return $.type===I.Tag||$.type===I.Script||$.type===I.Style};Object.defineProperty(C0,"__esModule",{value:!0});C0.Doctype=C0.CDATA=C0.Tag=C0.Style=C0.Script=C0.Comment=C0.Directive=C0.Text=C0.Root=C0.isTag=C0.ElementType=void 0;var I;(function($){$.Root="root",$.Text="text",$.Directive="directive",$.Comment="comment",$.Script="script",$.Style="style",$.Tag="tag",$.CDATA="cdata",$.Doctype="doctype"})(I=C0.ElementType||(C0.ElementType={}));C0.isTag=j$;C0.Root=I.Root;C0.Text=I.Text;C0.Directive=I.Directive;C0.Comment=I.Comment;C0.Script=I.Script;C0.Style=I.Style;C0.Tag=I.Tag;C0.CDATA=I.CDATA;C0.Doctype=I.Doctype});var X0=u((M)=>{var u0=function($){return(0,R.isTag)($)},_0=function($){return $.type===R.ElementType.CDATA},h0=function($){return $.type===R.ElementType.Text},x0=function($){return $.type===R.ElementType.Comment},m0=function($){return $.type===R.ElementType.Directive},p0=function($){return $.type===R.ElementType.Root},E$=function($){return Object.prototype.hasOwnProperty.call($,"children")},Y0=function($,Q){if(Q===void 0)Q=!1;var J;if(h0($))J=new f0($.data);else if(x0($))J=new y0($.data);else if(u0($)){var Z=Q?Z0($.children):[],q=new T0($.name,h({},$.attribs),Z);if(Z.forEach(function(G){return G.parent=q}),$.namespace!=null)q.namespace=$.namespace;if($["x-attribsNamespace"])q["x-attribsNamespace"]=h({},$["x-attribsNamespace"]);if($["x-attribsPrefix"])q["x-attribsPrefix"]=h({},$["x-attribsPrefix"]);J=q}else if(_0($)){var Z=Q?Z0($.children):[],Y=new b0(Z);Z.forEach(function(V){return V.parent=Y}),J=Y}else if(p0($)){var Z=Q?Z0($.children):[],X=new g0(Z);if(Z.forEach(function(V){return V.parent=X}),$["x-mode"])X["x-mode"]=$["x-mode"];J=X}else if(m0($)){var K=new v0($.name,$.data);if($["x-name"]!=null)K["x-name"]=$["x-name"],K["x-publicId"]=$["x-publicId"],K["x-systemId"]=$["x-systemId"];J=K}else throw new Error("Not implemented yet: ".concat($.type));if(J.startIndex=$.startIndex,J.endIndex=$.endIndex,$.sourceCodeLocation!=null)J.sourceCodeLocation=$.sourceCodeLocation;return J},Z0=function($){var Q=$.map(function(Z){return Y0(Z,!0)});for(var J=1;J<Q.length;J++)Q[J].prev=Q[J-1],Q[J-1].next=Q[J];return Q},E=M&&M.__extends||function(){var $=function(Q,J){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,q){Z.__proto__=q}||function(Z,q){for(var Y in q)if(Object.prototype.hasOwnProperty.call(q,Y))Z[Y]=q[Y]},$(Q,J)};return function(Q,J){if(typeof J!=="function"&&J!==null)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");$(Q,J);function Z(){this.constructor=Q}Q.prototype=J===null?Object.create(J):(Z.prototype=J.prototype,new Z)}}(),h=M&&M.__assign||function(){return h=Object.assign||function($){for(var Q,J=1,Z=arguments.length;J<Z;J++){Q=arguments[J];for(var q in Q)if(Object.prototype.hasOwnProperty.call(Q,q))$[q]=Q[q]}return $},h.apply(this,arguments)};Object.defineProperty(M,"__esModule",{value:!0});M.cloneNode=M.hasChildren=M.isDocument=M.isDirective=M.isComment=M.isText=M.isCDATA=M.isTag=M.Element=M.Document=M.CDATA=M.NodeWithChildren=M.ProcessingInstruction=M.Comment=M.Text=M.DataNode=M.Node=void 0;var R=J0(),q0=function(){function $(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty($.prototype,"parentNode",{get:function(){return this.parent},set:function(Q){this.parent=Q},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"previousSibling",{get:function(){return this.prev},set:function(Q){this.prev=Q},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"nextSibling",{get:function(){return this.next},set:function(Q){this.next=Q},enumerable:!1,configurable:!0}),$.prototype.cloneNode=function(Q){if(Q===void 0)Q=!1;return Y0(this,Q)},$}();M.Node=q0;var l=function($){E(Q,$);function Q(J){var Z=$.call(this)||this;return Z.data=J,Z}return Object.defineProperty(Q.prototype,"nodeValue",{get:function(){return this.data},set:function(J){this.data=J},enumerable:!1,configurable:!0}),Q}(q0);M.DataNode=l;var f0=function($){E(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=R.ElementType.Text,J}return Object.defineProperty(Q.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),Q}(l);M.Text=f0;var y0=function($){E(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=R.ElementType.Comment,J}return Object.defineProperty(Q.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),Q}(l);M.Comment=y0;var v0=function($){E(Q,$);function Q(J,Z){var q=$.call(this,Z)||this;return q.name=J,q.type=R.ElementType.Directive,q}return Object.defineProperty(Q.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Q}(l);M.ProcessingInstruction=v0;var a=function($){E(Q,$);function Q(J){var Z=$.call(this)||this;return Z.children=J,Z}return Object.defineProperty(Q.prototype,"firstChild",{get:function(){var J;return(J=this.children[0])!==null&&J!==void 0?J:null},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"childNodes",{get:function(){return this.children},set:function(J){this.children=J},enumerable:!1,configurable:!0}),Q}(q0);M.NodeWithChildren=a;var b0=function($){E(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=R.ElementType.CDATA,J}return Object.defineProperty(Q.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),Q}(a);M.CDATA=b0;var g0=function($){E(Q,$);function Q(){var J=$!==null&&$.apply(this,arguments)||this;return J.type=R.ElementType.Root,J}return Object.defineProperty(Q.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),Q}(a);M.Document=g0;var T0=function($){E(Q,$);function Q(J,Z,q,Y){if(q===void 0)q=[];if(Y===void 0)Y=J==="script"?R.ElementType.Script:J==="style"?R.ElementType.Style:R.ElementType.Tag;var X=$.call(this,q)||this;return X.name=J,X.attribs=Z,X.type=Y,X}return Object.defineProperty(Q.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"tagName",{get:function(){return this.name},set:function(J){this.name=J},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"attributes",{get:function(){var J=this;return Object.keys(this.attribs).map(function(Z){var q,Y;return{name:Z,value:J.attribs[Z],namespace:(q=J["x-attribsNamespace"])===null||q===void 0?void 0:q[Z],prefix:(Y=J["x-attribsPrefix"])===null||Y===void 0?void 0:Y[Z]}})},enumerable:!1,configurable:!0}),Q}(a);M.Element=T0;M.isTag=u0;M.isCDATA=_0;M.isText=h0;M.isComment=x0;M.isDirective=m0;M.isDocument=p0;M.hasChildren=E$;M.cloneNode=Y0});var i0=u((L)=>{var f$=L&&L.__createBinding||(Object.create?function($,Q,J,Z){if(Z===void 0)Z=J;var q=Object.getOwnPropertyDescriptor(Q,J);if(!q||("get"in q?!Q.__esModule:q.writable||q.configurable))q={enumerable:!0,get:function(){return Q[J]}};Object.defineProperty($,Z,q)}:function($,Q,J,Z){if(Z===void 0)Z=J;$[Z]=Q[J]}),y$=L&&L.__exportStar||function($,Q){for(var J in $)if(J!=="default"&&!Object.prototype.hasOwnProperty.call(Q,J))f$(Q,$,J)};Object.defineProperty(L,"__esModule",{value:!0});L.DomHandler=void 0;var K0=J0(),f=X0();y$(X0(),L);var k0={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},d0=function(){function $(Q,J,Z){if(this.dom=[],this.root=new f.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof J==="function")Z=J,J=k0;if(typeof Q==="object")J=Q,Q=void 0;this.callback=Q!==null&&Q!==void 0?Q:null,this.options=J!==null&&J!==void 0?J:k0,this.elementCB=Z!==null&&Z!==void 0?Z:null}return $.prototype.onparserinit=function(Q){this.parser=Q},$.prototype.onreset=function(){this.dom=[],this.root=new f.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},$.prototype.onend=function(){if(this.done)return;this.done=!0,this.parser=null,this.handleCallback(null)},$.prototype.onerror=function(Q){this.handleCallback(Q)},$.prototype.onclosetag=function(){this.lastNode=null;var Q=this.tagStack.pop();if(this.options.withEndIndices)Q.endIndex=this.parser.endIndex;if(this.elementCB)this.elementCB(Q)},$.prototype.onopentag=function(Q,J){var Z=this.options.xmlMode?K0.ElementType.Tag:void 0,q=new f.Element(Q,J,void 0,Z);this.addNode(q),this.tagStack.push(q)},$.prototype.ontext=function(Q){var J=this.lastNode;if(J&&J.type===K0.ElementType.Text){if(J.data+=Q,this.options.withEndIndices)J.endIndex=this.parser.endIndex}else{var Z=new f.Text(Q);this.addNode(Z),this.lastNode=Z}},$.prototype.oncomment=function(Q){if(this.lastNode&&this.lastNode.type===K0.ElementType.Comment){this.lastNode.data+=Q;return}var J=new f.Comment(Q);this.addNode(J),this.lastNode=J},$.prototype.oncommentend=function(){this.lastNode=null},$.prototype.oncdatastart=function(){var Q=new f.Text(""),J=new f.CDATA([Q]);this.addNode(J),Q.parent=J,this.lastNode=Q},$.prototype.oncdataend=function(){this.lastNode=null},$.prototype.onprocessinginstruction=function(Q,J){var Z=new f.ProcessingInstruction(Q,J);this.addNode(Z)},$.prototype.handleCallback=function(Q){if(typeof this.callback==="function")this.callback(Q,this.dom);else if(Q)throw Q},$.prototype.addNode=function(Q){var J=this.tagStack[this.tagStack.length-1],Z=J.children[J.children.length-1];if(this.options.withStartIndices)Q.startIndex=this.parser.startIndex;if(this.options.withEndIndices)Q.endIndex=this.parser.endIndex;if(J.children.push(Q),Z)Q.prev=Z,Z.next=Q;Q.parent=J,this.lastNode=null},$}();L.DomHandler=d0;L.default=d0});var l0=u((v$)=>{v$.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]});var n0=u((p$)=>{var x$=function($){return s0[$]},o0=function($){var Q={},J;for(var Z=0,q=$.length;Z<q;Z++)J=$[Z],Q[J.name]=J.value;return Q},m$=function($){$=$.toLowerCase();var Q=x$($);if(Q)return Q;return $},r0=function($,Q,J){Q=Q||null;var Z=[],q;for(var Y=0,X=$.length;Y<X;Y++){var K=$[Y],G;switch(K.nodeType){case 1:q=m$(K.nodeName),G=new u$(q,o0(K.attributes)),G.children=r0(q==="template"?K.content.childNodes:K.childNodes,G);break;case 3:G=new h$(K.nodeValue);break;case 8:G=new T$(K.nodeValue);break;default:continue}var V=Z[Y-1]||null;if(V)V.next=G;G.parent=Q,G.prev=V,G.next=null,Z.push(G)}if(J){if(G=new _$(J.substring(0,J.indexOf(" ")).toLowerCase(),J),G.next=Z[0]||null,G.parent=Q,Z.unshift(G),Z[1])Z[1].prev=Z[0]}return Z},s=i0(),g$=l0(),a0=g$.CASE_SENSITIVE_TAG_NAMES,T$=s.Comment,u$=s.Element,_$=s.ProcessingInstruction,h$=s.Text,s0={},V0;for(c=0,c0=a0.length;c<c0;c++)V0=a0[c],s0[V0.toLowerCase()]=V0;var c,c0;p$.formatAttributes=o0;p$.formatDOM=r0});var t0=A0(D0(),1),e0=A0(n0(),1),i$=e0.default.formatDOM,l$=/<(![a-zA-Z\s]+)>/;function W0($){if(typeof $!=="string")throw new TypeError("First argument must be a string");if($==="")return[];var Q=$.match(l$),J;if(Q&&Q[1])J=Q[1];return i$(t0.default($),null,J)}var U0=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},q$=function($){b=$},S=function($,Q){if(Q){if(Y$.test($))return $.replace(a$,$$)}else if(X$.test($))return $.replace(c$,$$);return $},r$=function($){return $.replace(o$,(Q,J)=>{if(J=J.toLowerCase(),J==="colon")return":";if(J.charAt(0)==="#")return J.charAt(1)==="x"?String.fromCharCode(parseInt(J.substring(2),16)):String.fromCharCode(+J.substring(1));return""})},A=function($,Q){$=typeof $==="string"?$:$.source,Q=Q||"";const J={replace:(Z,q)=>{return q=typeof q==="object"&&("source"in q)?q.source:q,q=q.replace(n$,"$1"),$=$.replace(Z,q),J},getRegex:()=>{return new RegExp($,Q)}};return J},Q$=function($){try{$=encodeURI($).replace(/%25/g,"%")}catch(Q){return null}return $},J$=function($,Q){const J=$.replace(/\|/g,(Y,X,K)=>{let G=!1,V=X;while(--V>=0&&K[V]==="\\")G=!G;if(G)return"|";else return" |"}),Z=J.split(/ \|/);let q=0;if(!Z[0].trim())Z.shift();if(Z.length>0&&!Z[Z.length-1].trim())Z.pop();if(Q)if(Z.length>Q)Z.splice(Q);else while(Z.length<Q)Z.push("");for(;q<Z.length;q++)Z[q]=Z[q].trim().replace(/\\\|/g,"|");return Z},G0=function($,Q,J){const Z=$.length;if(Z===0)return"";let q=0;while(q<Z){const Y=$.charAt(Z-q-1);if(Y===Q&&!J)q++;else if(Y!==Q&&J)q++;else break}return $.slice(0,Z-q)},t$=function($,Q){if($.indexOf(Q[1])===-1)return-1;let J=0;for(let Z=0;Z<$.length;Z++)if($[Z]==="\\")Z++;else if($[Z]===Q[0])J++;else if($[Z]===Q[1]){if(J--,J<0)return Z}return-1},Z$=function($,Q,J,Z){const q=Q.href,Y=Q.title?S(Q.title):null,X=$[1].replace(/\\([\[\]])/g,"$1");if($[0].charAt(0)!=="!"){Z.state.inLink=!0;const K={type:"link",raw:J,href:q,title:Y,text:X,tokens:Z.inlineTokens(X)};return Z.state.inLink=!1,K}return{type:"image",raw:J,href:q,title:Y,text:S(X)}},e$=function($,Q){const J=$.match(/^(\s+)(?:```)/);if(J===null)return Q;const Z=J[1];return Q.split("\n").map((q)=>{const Y=q.match(/^\s+/);if(Y===null)return q;const[X]=Y;if(X.length>=Z.length)return q.slice(Z.length);return q}).join("\n")},B=function($,Q){return v.parse($,Q)},b=U0(),Y$=/[&<>"']/,a$=new RegExp(Y$.source,"g"),X$=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,c$=new RegExp(X$.source,"g"),s$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$$=($)=>s$[$],o$=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,n$=/(^|[^\[])\^/g,o={exec:()=>null};class m{options;rules;lexer;constructor($){this.options=$||b}space($){const Q=this.rules.block.newline.exec($);if(Q&&Q[0].length>0)return{type:"space",raw:Q[0]}}code($){const Q=this.rules.block.code.exec($);if(Q){const J=Q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Q[0],codeBlockStyle:"indented",text:!this.options.pedantic?G0(J,"\n"):J}}}fences($){const Q=this.rules.block.fences.exec($);if(Q){const J=Q[0],Z=e$(J,Q[3]||"");return{type:"code",raw:J,lang:Q[2]?Q[2].trim().replace(this.rules.inline._escapes,"$1"):Q[2],text:Z}}}heading($){const Q=this.rules.block.heading.exec($);if(Q){let J=Q[2].trim();if(/#$/.test(J)){const Z=G0(J,"#");if(this.options.pedantic)J=Z.trim();else if(!Z||/ $/.test(Z))J=Z.trim()}return{type:"heading",raw:Q[0],depth:Q[1].length,text:J,tokens:this.lexer.inline(J)}}}hr($){const Q=this.rules.block.hr.exec($);if(Q)return{type:"hr",raw:Q[0]}}blockquote($){const Q=this.rules.block.blockquote.exec($);if(Q){const J=Q[0].replace(/^ *>[ \t]?/gm,""),Z=this.lexer.state.top;this.lexer.state.top=!0;const q=this.lexer.blockTokens(J);return this.lexer.state.top=Z,{type:"blockquote",raw:Q[0],tokens:q,text:J}}}list($){let Q=this.rules.block.list.exec($);if(Q){let J=Q[1].trim();const Z=J.length>1,q={type:"list",raw:"",ordered:Z,start:Z?+J.slice(0,-1):"",loose:!1,items:[]};if(J=Z?`\\d{1,9}\\${J.slice(-1)}`:`\\${J}`,this.options.pedantic)J=Z?J:"[*+-]";const Y=new RegExp(`^( {0,3}${J})((?:[\t ][^\\n]*)?(?:\\n|\$))`);let X="",K="",G=!1;while($){let V=!1;if(!(Q=Y.exec($)))break;if(this.rules.block.hr.test($))break;X=Q[0],$=$.substring(X.length);let z=Q[2].split("\n",1)[0].replace(/^\t+/,(j)=>" ".repeat(3*j.length)),O=$.split("\n",1)[0],F=0;if(this.options.pedantic)F=2,K=z.trimStart();else F=Q[2].search(/[^ ]/),F=F>4?1:F,K=z.slice(F),F+=Q[1].length;let w=!1;if(!z&&/^ *$/.test(O))X+=O+"\n",$=$.substring(O.length+1),V=!0;if(!V){const j=new RegExp(`^ {0,${Math.min(3,F-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|\$))`),C=new RegExp(`^ {0,${Math.min(3,F-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|\$)`),y=new RegExp(`^ {0,${Math.min(3,F-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,F-1)}}#`);while($){const t=$.split("\n",1)[0];if(O=t,this.options.pedantic)O=O.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ");if(y.test(O))break;if(T.test(O))break;if(j.test(O))break;if(C.test($))break;if(O.search(/[^ ]/)>=F||!O.trim())K+="\n"+O.slice(F);else{if(w)break;if(z.search(/[^ ]/)>=4)break;if(y.test(z))break;if(T.test(z))break;if(C.test(z))break;K+="\n"+O}if(!w&&!O.trim())w=!0;X+=t+"\n",$=$.substring(t.length+1),z=O.slice(F)}}if(!q.loose){if(G)q.loose=!0;else if(/\n *\n *$/.test(X))G=!0}let H=null,P;if(this.options.gfm){if(H=/^\[[ xX]\] /.exec(K),H)P=H[0]!=="[ ] ",K=K.replace(/^\[[ xX]\] +/,"")}q.items.push({type:"list_item",raw:X,task:!!H,checked:P,loose:!1,text:K,tokens:[]}),q.raw+=X}q.items[q.items.length-1].raw=X.trimEnd(),q.items[q.items.length-1].text=K.trimEnd(),q.raw=q.raw.trimEnd();for(let V=0;V<q.items.length;V++)if(this.lexer.state.top=!1,q.items[V].tokens=this.lexer.blockTokens(q.items[V].text,[]),!q.loose){const z=q.items[V].tokens.filter((F)=>F.type==="space"),O=z.length>0&&z.some((F)=>/\n.*\n/.test(F.raw));q.loose=O}if(q.loose)for(let V=0;V<q.items.length;V++)q.items[V].loose=!0;return q}}html($){const Q=this.rules.block.html.exec($);if(Q)return{type:"html",block:!0,raw:Q[0],pre:Q[1]==="pre"||Q[1]==="script"||Q[1]==="style",text:Q[0]}}def($){const Q=this.rules.block.def.exec($);if(Q){const J=Q[1].toLowerCase().replace(/\s+/g," "),Z=Q[2]?Q[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",q=Q[3]?Q[3].substring(1,Q[3].length-1).replace(this.rules.inline._escapes,"$1"):Q[3];return{type:"def",tag:J,raw:Q[0],href:Z,title:q}}}table($){const Q=this.rules.block.table.exec($);if(Q){const J={type:"table",raw:Q[0],header:J$(Q[1]).map((Z)=>{return{text:Z,tokens:[]}}),align:Q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Q[3]&&Q[3].trim()?Q[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(J.header.length===J.align.length){let Z=J.align.length,q,Y,X,K;for(q=0;q<Z;q++){const G=J.align[q];if(G)if(/^ *-+: *$/.test(G))J.align[q]="right";else if(/^ *:-+: *$/.test(G))J.align[q]="center";else if(/^ *:-+ *$/.test(G))J.align[q]="left";else J.align[q]=null}Z=J.rows.length;for(q=0;q<Z;q++)J.rows[q]=J$(J.rows[q],J.header.length).map((G)=>{return{text:G,tokens:[]}});Z=J.header.length;for(Y=0;Y<Z;Y++)J.header[Y].tokens=this.lexer.inline(J.header[Y].text);Z=J.rows.length;for(Y=0;Y<Z;Y++){K=J.rows[Y];for(X=0;X<K.length;X++)K[X].tokens=this.lexer.inline(K[X].text)}return J}}}lheading($){const Q=this.rules.block.lheading.exec($);if(Q)return{type:"heading",raw:Q[0],depth:Q[2].charAt(0)==="="?1:2,text:Q[1],tokens:this.lexer.inline(Q[1])}}paragraph($){const Q=this.rules.block.paragraph.exec($);if(Q){const J=Q[1].charAt(Q[1].length-1)==="\n"?Q[1].slice(0,-1):Q[1];return{type:"paragraph",raw:Q[0],text:J,tokens:this.lexer.inline(J)}}}text($){const Q=this.rules.block.text.exec($);if(Q)return{type:"text",raw:Q[0],text:Q[0],tokens:this.lexer.inline(Q[0])}}escape($){const Q=this.rules.inline.escape.exec($);if(Q)return{type:"escape",raw:Q[0],text:S(Q[1])}}tag($){const Q=this.rules.inline.tag.exec($);if(Q){if(!this.lexer.state.inLink&&/^<a /i.test(Q[0]))this.lexer.state.inLink=!0;else if(this.lexer.state.inLink&&/^<\/a>/i.test(Q[0]))this.lexer.state.inLink=!1;if(!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Q[0]))this.lexer.state.inRawBlock=!0;else if(this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Q[0]))this.lexer.state.inRawBlock=!1;return{type:"html",raw:Q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Q[0]}}}link($){const Q=this.rules.inline.link.exec($);if(Q){const J=Q[2].trim();if(!this.options.pedantic&&/^</.test(J)){if(!/>$/.test(J))return;const Y=G0(J.slice(0,-1),"\\");if((J.length-Y.length)%2===0)return}else{const Y=t$(Q[2],"()");if(Y>-1){const K=(Q[0].indexOf("!")===0?5:4)+Q[1].length+Y;Q[2]=Q[2].substring(0,Y),Q[0]=Q[0].substring(0,K).trim(),Q[3]=""}}let Z=Q[2],q="";if(this.options.pedantic){const Y=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Z);if(Y)Z=Y[1],q=Y[3]}else q=Q[3]?Q[3].slice(1,-1):"";if(Z=Z.trim(),/^</.test(Z))if(this.options.pedantic&&!/>$/.test(J))Z=Z.slice(1);else Z=Z.slice(1,-1);return Z$(Q,{href:Z?Z.replace(this.rules.inline._escapes,"$1"):Z,title:q?q.replace(this.rules.inline._escapes,"$1"):q},Q[0],this.lexer)}}reflink($,Q){let J;if((J=this.rules.inline.reflink.exec($))||(J=this.rules.inline.nolink.exec($))){let Z=(J[2]||J[1]).replace(/\s+/g," ");if(Z=Q[Z.toLowerCase()],!Z){const q=J[0].charAt(0);return{type:"text",raw:q,text:q}}return Z$(J,Z,J[0],this.lexer)}}emStrong($,Q,J=""){let Z=this.rules.inline.emStrong.lDelim.exec($);if(!Z)return;if(Z[3]&&J.match(/[\p{L}\p{N}]/u))return;if(!(Z[1]||Z[2])||!J||this.rules.inline.punctuation.exec(J)){const Y=[...Z[0]].length-1;let X,K,G=Y,V=0;const z=Z[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;z.lastIndex=0,Q=Q.slice(-1*$.length+Y);while((Z=z.exec(Q))!=null){if(X=Z[1]||Z[2]||Z[3]||Z[4]||Z[5]||Z[6],!X)continue;if(K=[...X].length,Z[3]||Z[4]){G+=K;continue}else if(Z[5]||Z[6]){if(Y%3&&!((Y+K)%3)){V+=K;continue}}if(G-=K,G>0)continue;K=Math.min(K,K+G+V);const O=[...$].slice(0,Y+Z.index+K+1).join("");if(Math.min(Y,K)%2){const w=O.slice(1,-1);return{type:"em",raw:O,text:w,tokens:this.lexer.inlineTokens(w)}}const F=O.slice(2,-2);return{type:"strong",raw:O,text:F,tokens:this.lexer.inlineTokens(F)}}}}codespan($){const Q=this.rules.inline.code.exec($);if(Q){let J=Q[2].replace(/\n/g," ");const Z=/[^ ]/.test(J),q=/^ /.test(J)&&/ $/.test(J);if(Z&&q)J=J.substring(1,J.length-1);return J=S(J,!0),{type:"codespan",raw:Q[0],text:J}}}br($){const Q=this.rules.inline.br.exec($);if(Q)return{type:"br",raw:Q[0]}}del($){const Q=this.rules.inline.del.exec($);if(Q)return{type:"del",raw:Q[0],text:Q[2],tokens:this.lexer.inlineTokens(Q[2])}}autolink($){const Q=this.rules.inline.autolink.exec($);if(Q){let J,Z;if(Q[2]==="@")J=S(Q[1]),Z="mailto:"+J;else J=S(Q[1]),Z=J;return{type:"link",raw:Q[0],text:J,href:Z,tokens:[{type:"text",raw:J,text:J}]}}}url($){let Q;if(Q=this.rules.inline.url.exec($)){let J,Z;if(Q[2]==="@")J=S(Q[0]),Z="mailto:"+J;else{let q;do q=Q[0],Q[0]=this.rules.inline._backpedal.exec(Q[0])[0];while(q!==Q[0]);if(J=S(Q[0]),Q[1]==="www.")Z="http://"+Q[0];else Z=Q[0]}return{type:"link",raw:Q[0],text:J,href:Z,tokens:[{type:"text",raw:J,text:J}]}}}inlineText($){const Q=this.rules.inline.text.exec($);if(Q){let J;if(this.lexer.state.inRawBlock)J=Q[0];else J=S(Q[0]);return{type:"text",raw:Q[0],text:J}}}}var U={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:o,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};U._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;U._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;U.def=A(U.def).replace("label",U._label).replace("title",U._title).getRegex();U.bullet=/(?:[*+-]|\d{1,9}[.)])/;U.listItemStart=A(/^( *)(bull) */).replace("bull",U.bullet).getRegex();U.list=A(U.list).replace(/bull/g,U.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+U.def.source+")").getRegex();U._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";U._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;U.html=A(U.html,"i").replace("comment",U._comment).replace("tag",U._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();U.lheading=A(U.lheading).replace(/bull/g,U.bullet).getRegex();U.paragraph=A(U._paragraph).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex();U.blockquote=A(U.blockquote).replace("paragraph",U.paragraph).getRegex();U.normal={...U};U.gfm={...U.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};U.gfm.table=A(U.gfm.table).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex();U.gfm.paragraph=A(U._paragraph).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",U.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",U._tag).getRegex();U.pedantic={...U.normal,html:A('^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))').replace("comment",U._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:o,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:A(U.normal._paragraph).replace("hr",U.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",U.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:o,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:o,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};W._punctuation="\\p{P}$+<=>`^|~";W.punctuation=A(W.punctuation,"u").replace(/punctuation/g,W._punctuation).getRegex();W.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;W.anyPunctuation=/\\[punct]/g;W._escapes=/\\([punct])/g;W._comment=A(U._comment).replace("(?:-->|$)","-->").getRegex();W.emStrong.lDelim=A(W.emStrong.lDelim,"u").replace(/punct/g,W._punctuation).getRegex();W.emStrong.rDelimAst=A(W.emStrong.rDelimAst,"gu").replace(/punct/g,W._punctuation).getRegex();W.emStrong.rDelimUnd=A(W.emStrong.rDelimUnd,"gu").replace(/punct/g,W._punctuation).getRegex();W.anyPunctuation=A(W.anyPunctuation,"gu").replace(/punct/g,W._punctuation).getRegex();W._escapes=A(W._escapes,"gu").replace(/punct/g,W._punctuation).getRegex();W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;W.autolink=A(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex();W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;W.tag=A(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex();W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;W.link=A(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex();W.reflink=A(W.reflink).replace("label",W._label).replace("ref",U._label).getRegex();W.nolink=A(W.nolink).replace("ref",U._label).getRegex();W.reflinkSearch=A(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex();W.normal={...W};W.pedantic={...W.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:A(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:A(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()};W.gfm={...W.normal,escape:A(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};W.gfm.url=A(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex();W.breaks={...W.gfm,br:A(W.br).replace("{2,}","*").getRegex(),text:A(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class D{tokens;options;state;tokenizer;inlineQueue;constructor($){this.tokens=[],this.tokens.links=Object.create(null),this.options=$||b,this.options.tokenizer=this.options.tokenizer||new m,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const Q={block:U.normal,inline:W.normal};if(this.options.pedantic)Q.block=U.pedantic,Q.inline=W.pedantic;else if(this.options.gfm)if(Q.block=U.gfm,this.options.breaks)Q.inline=W.breaks;else Q.inline=W.gfm;this.tokenizer.rules=Q}static get rules(){return{block:U,inline:W}}static lex($,Q){return new D(Q).lex($)}static lexInline($,Q){return new D(Q).inlineTokens($)}lex($){$=$.replace(/\r\n|\r/g,"\n"),this.blockTokens($,this.tokens);let Q;while(Q=this.inlineQueue.shift())this.inlineTokens(Q.src,Q.tokens);return this.tokens}blockTokens($,Q=[]){if(this.options.pedantic)$=$.replace(/\t/g,"    ").replace(/^ +$/gm,"");else $=$.replace(/^( *)(\t+)/gm,(X,K,G)=>{return K+"    ".repeat(G.length)});let J,Z,q,Y;while($){if(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((X)=>{if(J=X.call({lexer:this},$,Q))return $=$.substring(J.raw.length),Q.push(J),!0;return!1}))continue;if(J=this.tokenizer.space($)){if($=$.substring(J.raw.length),J.raw.length===1&&Q.length>0)Q[Q.length-1].raw+="\n";else Q.push(J);continue}if(J=this.tokenizer.code($)){if($=$.substring(J.raw.length),Z=Q[Q.length-1],Z&&(Z.type==="paragraph"||Z.type==="text"))Z.raw+="\n"+J.raw,Z.text+="\n"+J.text,this.inlineQueue[this.inlineQueue.length-1].src=Z.text;else Q.push(J);continue}if(J=this.tokenizer.fences($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.heading($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.hr($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.blockquote($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.list($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.html($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.def($)){if($=$.substring(J.raw.length),Z=Q[Q.length-1],Z&&(Z.type==="paragraph"||Z.type==="text"))Z.raw+="\n"+J.raw,Z.text+="\n"+J.raw,this.inlineQueue[this.inlineQueue.length-1].src=Z.text;else if(!this.tokens.links[J.tag])this.tokens.links[J.tag]={href:J.href,title:J.title};continue}if(J=this.tokenizer.table($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.lheading($)){$=$.substring(J.raw.length),Q.push(J);continue}if(q=$,this.options.extensions&&this.options.extensions.startBlock){let X=Infinity;const K=$.slice(1);let G;if(this.options.extensions.startBlock.forEach((V)=>{if(G=V.call({lexer:this},K),typeof G==="number"&&G>=0)X=Math.min(X,G)}),X<Infinity&&X>=0)q=$.substring(0,X+1)}if(this.state.top&&(J=this.tokenizer.paragraph(q))){if(Z=Q[Q.length-1],Y&&Z.type==="paragraph")Z.raw+="\n"+J.raw,Z.text+="\n"+J.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Z.text;else Q.push(J);Y=q.length!==$.length,$=$.substring(J.raw.length);continue}if(J=this.tokenizer.text($)){if($=$.substring(J.raw.length),Z=Q[Q.length-1],Z&&Z.type==="text")Z.raw+="\n"+J.raw,Z.text+="\n"+J.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Z.text;else Q.push(J);continue}if($){const X="Infinite loop on byte: "+$.charCodeAt(0);if(this.options.silent){console.error(X);break}else throw new Error(X)}}return this.state.top=!0,Q}inline($,Q=[]){return this.inlineQueue.push({src:$,tokens:Q}),Q}inlineTokens($,Q=[]){let J,Z,q,Y=$,X,K,G;if(this.tokens.links){const V=Object.keys(this.tokens.links);if(V.length>0){while((X=this.tokenizer.rules.inline.reflinkSearch.exec(Y))!=null)if(V.includes(X[0].slice(X[0].lastIndexOf("[")+1,-1)))Y=Y.slice(0,X.index)+"["+"a".repeat(X[0].length-2)+"]"+Y.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}while((X=this.tokenizer.rules.inline.blockSkip.exec(Y))!=null)Y=Y.slice(0,X.index)+"["+"a".repeat(X[0].length-2)+"]"+Y.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while((X=this.tokenizer.rules.inline.anyPunctuation.exec(Y))!=null)Y=Y.slice(0,X.index)+"++"+Y.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);while($){if(!K)G="";if(K=!1,this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((V)=>{if(J=V.call({lexer:this},$,Q))return $=$.substring(J.raw.length),Q.push(J),!0;return!1}))continue;if(J=this.tokenizer.escape($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.tag($)){if($=$.substring(J.raw.length),Z=Q[Q.length-1],Z&&J.type==="text"&&Z.type==="text")Z.raw+=J.raw,Z.text+=J.text;else Q.push(J);continue}if(J=this.tokenizer.link($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.reflink($,this.tokens.links)){if($=$.substring(J.raw.length),Z=Q[Q.length-1],Z&&J.type==="text"&&Z.type==="text")Z.raw+=J.raw,Z.text+=J.text;else Q.push(J);continue}if(J=this.tokenizer.emStrong($,Y,G)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.codespan($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.br($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.del($)){$=$.substring(J.raw.length),Q.push(J);continue}if(J=this.tokenizer.autolink($)){$=$.substring(J.raw.length),Q.push(J);continue}if(!this.state.inLink&&(J=this.tokenizer.url($))){$=$.substring(J.raw.length),Q.push(J);continue}if(q=$,this.options.extensions&&this.options.extensions.startInline){let V=Infinity;const z=$.slice(1);let O;if(this.options.extensions.startInline.forEach((F)=>{if(O=F.call({lexer:this},z),typeof O==="number"&&O>=0)V=Math.min(V,O)}),V<Infinity&&V>=0)q=$.substring(0,V+1)}if(J=this.tokenizer.inlineText(q)){if($=$.substring(J.raw.length),J.raw.slice(-1)!=="_")G=J.raw.slice(-1);if(K=!0,Z=Q[Q.length-1],Z&&Z.type==="text")Z.raw+=J.raw,Z.text+=J.text;else Q.push(J);continue}if($){const V="Infinite loop on byte: "+$.charCodeAt(0);if(this.options.silent){console.error(V);break}else throw new Error(V)}}return Q}}class p{options;constructor($){this.options=$||b}code($,Q,J){const Z=(Q||"").match(/^\S*/)?.[0];if($=$.replace(/\n$/,"")+"\n",!Z)return"<pre><code>"+(J?$:S($,!0))+"</code></pre>\n";return'<pre><code class="language-'+S(Z)+'">'+(J?$:S($,!0))+"</code></pre>\n"}blockquote($){return`<blockquote>\n${$}</blockquote>\n`}html($,Q){return $}heading($,Q,J){return`<h${Q}>${$}</h${Q}>\n`}hr(){return"<hr>\n"}list($,Q,J){const Z=Q?"ol":"ul",q=Q&&J!==1?' start="'+J+'"':"";return"<"+Z+q+">\n"+$+"</"+Z+">\n"}listitem($,Q,J){return`<li>${$}</li>\n`}checkbox($){return"<input "+($?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph($){return`<p>${$}</p>\n`}table($,Q){if(Q)Q=`<tbody>${Q}</tbody>`;return"<table>\n<thead>\n"+$+"</thead>\n"+Q+"</table>\n"}tablerow($){return`<tr>\n${$}</tr>\n`}tablecell($,Q){const J=Q.header?"th":"td";return(Q.align?`<${J} align="${Q.align}">`:`<${J}>`)+$+`</${J}>\n`}strong($){return`<strong>${$}</strong>`}em($){return`<em>${$}</em>`}codespan($){return`<code>${$}</code>`}br(){return"<br>"}del($){return`<del>${$}</del>`}link($,Q,J){const Z=Q$($);if(Z===null)return J;$=Z;let q='<a href="'+$+'"';if(Q)q+=' title="'+Q+'"';return q+=">"+J+"</a>",q}image($,Q,J){const Z=Q$($);if(Z===null)return J;$=Z;let q=`<img src="${$}" alt="${J}"`;if(Q)q+=` title="${Q}"`;return q+=">",q}text($){return $}}class r{strong($){return $}em($){return $}codespan($){return $}del($){return $}html($){return $}text($){return $}link($,Q,J){return""+J}image($,Q,J){return""+J}br(){return""}}class N{options;renderer;textRenderer;constructor($){this.options=$||b,this.options.renderer=this.options.renderer||new p,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new r}static parse($,Q){return new N(Q).parse($)}static parseInline($,Q){return new N(Q).parseInline($)}parse($,Q=!0){let J="";for(let Z=0;Z<$.length;Z++){const q=$[Z];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[q.type]){const Y=q,X=this.options.extensions.renderers[Y.type].call({parser:this},Y);if(X!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Y.type)){J+=X||"";continue}}switch(q.type){case"space":continue;case"hr":{J+=this.renderer.hr();continue}case"heading":{const Y=q;J+=this.renderer.heading(this.parseInline(Y.tokens),Y.depth,r$(this.parseInline(Y.tokens,this.textRenderer)));continue}case"code":{const Y=q;J+=this.renderer.code(Y.text,Y.lang,!!Y.escaped);continue}case"table":{const Y=q;let X="",K="";for(let V=0;V<Y.header.length;V++)K+=this.renderer.tablecell(this.parseInline(Y.header[V].tokens),{header:!0,align:Y.align[V]});X+=this.renderer.tablerow(K);let G="";for(let V=0;V<Y.rows.length;V++){const z=Y.rows[V];K="";for(let O=0;O<z.length;O++)K+=this.renderer.tablecell(this.parseInline(z[O].tokens),{header:!1,align:Y.align[O]});G+=this.renderer.tablerow(K)}J+=this.renderer.table(X,G);continue}case"blockquote":{const Y=q,X=this.parse(Y.tokens);J+=this.renderer.blockquote(X);continue}case"list":{const Y=q,X=Y.ordered,K=Y.start,G=Y.loose;let V="";for(let z=0;z<Y.items.length;z++){const O=Y.items[z],F=O.checked,w=O.task;let H="";if(O.task){const P=this.renderer.checkbox(!!F);if(G)if(O.tokens.length>0&&O.tokens[0].type==="paragraph"){if(O.tokens[0].text=P+" "+O.tokens[0].text,O.tokens[0].tokens&&O.tokens[0].tokens.length>0&&O.tokens[0].tokens[0].type==="text")O.tokens[0].tokens[0].text=P+" "+O.tokens[0].tokens[0].text}else O.tokens.unshift({type:"text",text:P+" "});else H+=P+" "}H+=this.parse(O.tokens,G),V+=this.renderer.listitem(H,w,!!F)}J+=this.renderer.list(V,X,K);continue}case"html":{const Y=q;J+=this.renderer.html(Y.text,Y.block);continue}case"paragraph":{const Y=q;J+=this.renderer.paragraph(this.parseInline(Y.tokens));continue}case"text":{let Y=q,X=Y.tokens?this.parseInline(Y.tokens):Y.text;while(Z+1<$.length&&$[Z+1].type==="text")Y=$[++Z],X+="\n"+(Y.tokens?this.parseInline(Y.tokens):Y.text);J+=Q?this.renderer.paragraph(X):X;continue}default:{const Y='Token with "'+q.type+'" type was not found.';if(this.options.silent)return console.error(Y),"";else throw new Error(Y)}}}return J}parseInline($,Q){Q=Q||this.renderer;let J="";for(let Z=0;Z<$.length;Z++){const q=$[Z];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[q.type]){const Y=this.options.extensions.renderers[q.type].call({parser:this},q);if(Y!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(q.type)){J+=Y||"";continue}}switch(q.type){case"escape":{const Y=q;J+=Q.text(Y.text);break}case"html":{const Y=q;J+=Q.html(Y.text);break}case"link":{const Y=q;J+=Q.link(Y.href,Y.title,this.parseInline(Y.tokens,Q));break}case"image":{const Y=q;J+=Q.image(Y.href,Y.title,Y.text);break}case"strong":{const Y=q;J+=Q.strong(this.parseInline(Y.tokens,Q));break}case"em":{const Y=q;J+=Q.em(this.parseInline(Y.tokens,Q));break}case"codespan":{const Y=q;J+=Q.codespan(Y.text);break}case"br":{J+=Q.br();break}case"del":{const Y=q;J+=Q.del(this.parseInline(Y.tokens,Q));break}case"text":{const Y=q;J+=Q.text(Y.text);break}default:{const Y='Token with "'+q.type+'" type was not found.';if(this.options.silent)return console.error(Y),"";else throw new Error(Y)}}}return J}}class x{options;constructor($){this.options=$||b}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess($){return $}postprocess($){return $}}class K${defaults=U0();options=this.setOptions;parse=this.#$(D.lex,N.parse);parseInline=this.#$(D.lexInline,N.parseInline);Parser=N;parser=N.parse;Renderer=p;TextRenderer=r;Lexer=D;lexer=D.lex;Tokenizer=m;Hooks=x;constructor(...$){this.use(...$)}walkTokens($,Q){let J=[];for(let Z of $)switch(J=J.concat(Q.call(this,Z)),Z.type){case"table":{const q=Z;for(let Y of q.header)J=J.concat(this.walkTokens(Y.tokens,Q));for(let Y of q.rows)for(let X of Y)J=J.concat(this.walkTokens(X.tokens,Q));break}case"list":{const q=Z;J=J.concat(this.walkTokens(q.items,Q));break}default:{const q=Z;if(this.defaults.extensions?.childTokens?.[q.type])this.defaults.extensions.childTokens[q.type].forEach((Y)=>{J=J.concat(this.walkTokens(q[Y],Q))});else if(q.tokens)J=J.concat(this.walkTokens(q.tokens,Q))}}return J}use(...$){const Q=this.defaults.extensions||{renderers:{},childTokens:{}};return $.forEach((J)=>{const Z={...J};if(Z.async=this.defaults.async||Z.async||!1,J.extensions)J.extensions.forEach((q)=>{if(!q.name)throw new Error("extension name required");if("renderer"in q){const Y=Q.renderers[q.name];if(Y)Q.renderers[q.name]=function(...X){let K=q.renderer.apply(this,X);if(K===!1)K=Y.apply(this,X);return K};else Q.renderers[q.name]=q.renderer}if("tokenizer"in q){if(!q.level||q.level!=="block"&&q.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const Y=Q[q.level];if(Y)Y.unshift(q.tokenizer);else Q[q.level]=[q.tokenizer];if(q.start){if(q.level==="block")if(Q.startBlock)Q.startBlock.push(q.start);else Q.startBlock=[q.start];else if(q.level==="inline")if(Q.startInline)Q.startInline.push(q.start);else Q.startInline=[q.start]}}if(("childTokens"in q)&&q.childTokens)Q.childTokens[q.name]=q.childTokens}),Z.extensions=Q;if(J.renderer){const q=this.defaults.renderer||new p(this.defaults);for(let Y in J.renderer){const X=J.renderer[Y],K=Y,G=q[K];q[K]=(...V)=>{let z=X.apply(q,V);if(z===!1)z=G.apply(q,V);return z||""}}Z.renderer=q}if(J.tokenizer){const q=this.defaults.tokenizer||new m(this.defaults);for(let Y in J.tokenizer){const X=J.tokenizer[Y],K=Y,G=q[K];q[K]=(...V)=>{let z=X.apply(q,V);if(z===!1)z=G.apply(q,V);return z}}Z.tokenizer=q}if(J.hooks){const q=this.defaults.hooks||new x;for(let Y in J.hooks){const X=J.hooks[Y],K=Y,G=q[K];if(x.passThroughHooks.has(Y))q[K]=(V)=>{if(this.defaults.async)return Promise.resolve(X.call(q,V)).then((O)=>{return G.call(q,O)});const z=X.call(q,V);return G.call(q,z)};else q[K]=(...V)=>{let z=X.apply(q,V);if(z===!1)z=G.apply(q,V);return z}}Z.hooks=q}if(J.walkTokens){const q=this.defaults.walkTokens,Y=J.walkTokens;Z.walkTokens=function(X){let K=[];if(K.push(Y.call(this,X)),q)K=K.concat(q.call(this,X));return K}}this.defaults={...this.defaults,...Z}}),this}setOptions($){return this.defaults={...this.defaults,...$},this}#$($,Q){return(J,Z)=>{const q={...Z},Y={...this.defaults,...q};if(this.defaults.async===!0&&q.async===!1){if(!Y.silent)console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored.");Y.async=!0}const X=this.#Q(!!Y.silent,!!Y.async);if(typeof J==="undefined"||J===null)return X(new Error("marked(): input parameter is undefined or null"));if(typeof J!=="string")return X(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(J)+", string expected"));if(Y.hooks)Y.hooks.options=Y;if(Y.async)return Promise.resolve(Y.hooks?Y.hooks.preprocess(J):J).then((K)=>$(K,Y)).then((K)=>Y.walkTokens?Promise.all(this.walkTokens(K,Y.walkTokens)).then(()=>K):K).then((K)=>Q(K,Y)).then((K)=>Y.hooks?Y.hooks.postprocess(K):K).catch(X);try{if(Y.hooks)J=Y.hooks.preprocess(J);const K=$(J,Y);if(Y.walkTokens)this.walkTokens(K,Y.walkTokens);let G=Q(K,Y);if(Y.hooks)G=Y.hooks.postprocess(G);return G}catch(K){return X(K)}}}#Q($,Q){return(J)=>{if(J.message+="\nPlease report this to https://github.com/markedjs/marked.",$){const Z="<p>An error occurred:</p><pre>"+S(J.message+"",!0)+"</pre>";if(Q)return Promise.resolve(Z);return Z}if(Q)return Promise.reject(J);throw J}}}var v=new K$;B.options=B.setOptions=function($){return v.setOptions($),B.defaults=v.defaults,q$(B.defaults),B};B.getDefaults=U0;B.defaults=b;B.use=function(...$){return v.use(...$),B.defaults=v.defaults,q$(B.defaults),B};B.walkTokens=function($,Q){return v.walkTokens($,Q)};B.parseInline=v.parseInline;B.Parser=N;B.parser=N.parse;B.Renderer=p;B.TextRenderer=r;B.Lexer=D;B.lexer=D.lex;B.Tokenizer=m;B.Hooks=x;B.parse=B;var{options:M1,setOptions:B1,use:A1,walkTokens:w1,parseInline:j1}=B;var H1=N.parse,P1=D.lex;var W$="DUMMY",$1=($)=>/^[a-zA-Z_][a-zA-Z_0-9]+$/.test($)?$:`"${$}"`,V$=($,Q)=>$.filter((J)=>J.type==="tag"&&J.name!==W$||J.type==="text"&&(!Q||/\S/.test(J.data))),O0=($,{indent:Q=2,spacing:J=!1,skipEmptyText:Z=!1,htmlTagPred:q=(Y)=>Y.toLowerCase()===Y}={})=>{const Y=(F,w)=>{const H=J?" ":"";return Object.keys(F).length===0?"":`{${H}${Object.entries(F).flatMap(([P,j])=>P!==W$?`${$1(P)}: ${JSON.stringify(j)}`:[]).join(", ")}${H}}${w.length>0?",":""}`},X=(F,w,H,P)=>F.flatMap((j)=>{const C=!w&&F.length<=1?"":",";if(j.type==="text")return`${w}${JSON.stringify(j.data)}${C}`;P.add(j.name);const y=H&&j.name!=="pre",T=V$(j.children,y);return j.children.length>0?[`${w}${j.name}(${Y(j.attribs,T)}`,...X(T,w+" ".repeat(Q),y,P),`${w})${C}`]:`${w}${j.name}(${Y(j.attribs,T)})${C}`}),K=W0($,{lowerCaseTags:!1,lowerCaseAttributeNames:!1}),G=new Set,V=X(V$(K,Z),"",Z,G),z=[],O=[];for(let F of G)(q(F)?z:O).push(F);return{code:V,tags:z.sort(),components:O.sort()}},G$=($,{indent:Q=2,spacing:J=!1,htmlTagPred:Z=(Y)=>Y.toLowerCase()===Y,renderer:q}={})=>O0(B.use({renderer:q}).parse($),{indent:Q,spacing:J,skipEmptyText:!0,htmlTagPred:Z});var{van:{state:g,derive:n,add:Q1,tags:{code:U$,div:k,h5:F0,input:z0,option:O$,pre:M0,select:J1,span:Z1,textarea:q1}}}=window,Y1=($)=>{$.style.height="5px",$.style.height=$.scrollHeight+5+"px"},X1=()=>{const $=g("HTML"),Q=n(()=>$.val==="HTML"),J=g('<div><p>\uD83D\uDC4BHello</p><ul><li>\uD83D\uDDFA\uFE0FWorld</li><li><a href="https://vanjs.org/">\uD83C\uDF66VanJS</a></li></ul></div>'),Z=g(`\uD83D\uDC4BHello
* \uD83D\uDDFA\uFE0FWorld
* [\uD83C\uDF66VanJS](https://vanjs.org/)
`),q=n(()=>(Q.val?J:Z).val),Y=q1({style:"width: 100%;",oninput:(F)=>(Q.val?J:Z).val=F.target.value,value:q});n(()=>(q.val,setTimeout(Y1.bind(null,Y),5)));const X=g(2),K=g(!1),G=g(!1),V=g(""),z=n(()=>{V.val="";try{return Q.val?O0(J.val,{indent:X.val,spacing:K.val,skipEmptyText:G.val}):G$(Z.val,{indent:X.val,spacing:K.val})}catch(F){V.val=F.toString()}}),O=()=>Q.val?"":"display: none";return k(F0("Paste your ",J1({value:$,oninput:(F)=>$.val=F.target.value},O$("HTML"),O$("MD"))," snippet here:"),k(Y),k("Indent level: ",z0({type:"number",min:1,max:8,value:X,oninput:(F)=>X.val=F.target.value})," ",z0({type:"checkbox",value:K,oninput:(F)=>K.val=F.target.checked}),"Spacing ",Z1({style:O},z0({type:"checkbox",value:G,oninput:(F)=>G.val=F.target.checked}),"Skip empty text ")),M0({class:"err"},V),(F)=>{if(!z.val)return k();if(!F?.hasChildNodes())F=k(F0("Importing:"),M0(U$({class:"language-js"})),F0("Building the DOM tree:"),M0(U$({class:"language-js"})));const{code:w,tags:H}=z.val,P=K.val?"\xA0":"",[j,C]=F.querySelectorAll("pre code[class='language-js']");return j.textContent=H.length?`const {${P}${H.join(", ")}${P}} = van.tags
`:"",C.textContent=w.map((y)=>y+"\n").join(""),setTimeout(()=>window.Prism.highlightAll(),5),F})};Q1(document.getElementById("converter"),X1());
